<!DOCTYPE html>
<html>
<head>
  <meta charset='UTF-8'>
  <meta http-equiv='X-UA-Compatible' content='IE=edge'>
  <meta name='viewport' content='width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0'>
  <meta property='og:url' />
  <meta property='og:type' content='website'/>
  <meta property='og:image' content='./images/thumbnail.png'/>
  <meta property='og:title' content='마이위크'/>
  <meta property='og:description'/>
  <title>마이위크</title>
  <script src='https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js'></script>
  <link href='../css/reset.css' rel='stylesheet'>
  <link href='../css/common.css' rel='stylesheet'>
  <link href='../css/style_mobile.css' rel='stylesheet'>
  <script type='text/javascript'> 
    $(document).ready(function(){
      // 프로필 클릭 시 설정 화면으로 이동
      $('.setting').on('click', function(){
        location.href='setting.html';
      });

      // div.text와 input[type=checkbox] 중복 이벤트 발생 막기
      $('.text span.eventPrevent').on('click', function (event) {
        event.stopPropagation();
      });
      
      // 요일 선택
      $('.week div').on('click', function(){
        $('.week div').removeClass('on');
        $(this).addClass('on');
      });

      // 할일 입력 팝업 노출
      $('.text').on('click', function () {
        // 클릭 한 날의 날짜 불러오기
        if ($(this).text().length > 0) {
          $('.bottom > p').hide();
          $('.bottom_upd').show();
        } else {
          var yymm = $('.yymm').text();
          var date = $('.week div.on p').text();
          var day = $('.week div.on p').attr('class');
          $('.popup_date').text(yymm + '.' + date + '.' + day);
          $('#popup').fadeIn();
        }
      });

      $('.btn_update').on('click', function(){
        var yymm = $('.yymm').text();
        var date = $('.week div.on p').text();
        var day = $('.week div.on p').attr('class');
        $('.popup_date').text(yymm + '.' + date + '.' + day);
        $('#popup').fadeIn();
      });

      // 팝업 닫기 버튼
      $('.btn_right, .btn_left').on('click', function () {
        $('#popup').fadeOut();
      });
      
      // 팝업 외부영역 클릭 시 팝업 닫기
      $(document).mouseup(function(e){
        var popup = $('#popup');
        if(popup.has(e.target).length === 0) {
          $('#popup').fadeOut();
        }
      });
    });
  </script>
</head>
<body>
  <div id='wrap'>
    <div class='header'>
      <div class='header_box'>
        <img src='../images/profile.png' class='setting'>
        <span class='yymm'>2022.03</span>
      </div>
      <div class='header_btn'>
        <img src='../images/button_prev.png' class='btn_prev'>
        <img src='../images/button_next.png' class='btn_next'>
      </div>
      <div class='week'>
        <div class='on'>M<p class='mon'>21</p></div>
        <div>T<p class='tue'>22</p></div>
        <div>W<p class='wed'>23</p></div>
        <div>T<p class='thu'>24</p></div>
        <div>F<p class='fri'>25</p></div>
        <div>S<p class='sat'>26</p></div>
        <div>S<p class='sun'>27</p></div>
      </div>
    </div>

    <div class='content'>
      <div class='text'>[TEST]<span class='eventPrevent'><input type='checkbox' id='checkbox_mon_01' name='mon_01' /><label for='checkbox_mon_01'></label></span></div>
      <div class='text'>[TEST]<span class='eventPrevent'><input type='checkbox' id='checkbox_mon_02' name='mon_01' /><label for='checkbox_mon_02'></label></span></div>
      <div class='text'></div>
      <div class='text'></div>
      <div class='text'></div>
      <div class='text'></div>  
    </div>

    <div class='bottom'>
      <p>새로운 내용을 입력해주세요.</p>
      <div class='bottom_upd'>
        <div class='bottom_desc'>
          글글글글글글글글글글글글글글글글글글글글글글글글글글글글글글글글글글글글글글글글글글글글글글글글글글
        </div>
        <span class='btn_update'>수정</span>
      </div>  
    </div>
  </div>

  <div id='popup' class='mobile'>
    <!-- 팝업 -->
    <div class='popup_inner'>
      <div class='popup_header'>
        <span class='popup_date'>2022.03.25.Fri</span>
        <img src='../images/button_delete.png' class='btn_delete'>
      </div>
      <div class='popup_contents'>
        <input type='text' class='text_subject'/><input type='checkbox' id='checkbox2' name='popup_check' /><label for='checkbox2'></label>
        <img src='../images/description.png' class='icon_description'>
        <input type='text' class='text_description' maxlength='100' placeholder='설명추가(최대 50자)' />
      </div>
      <div class='popup_btn'>
        <span class='btn_left'>취소</span>
        <span class='btn_right'>저장</span>
      </div>
    </div>
  </div>
</body>
</html>